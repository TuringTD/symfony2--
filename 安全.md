###C)编码用户的密码
无论你的用户是存储在security.yml还是在数据库或者其它的地方,你将想要编码这个密码,最好的算法使用bcrypt:

    # app/config/security.yml
    security:
        # ...

        encoders:
            Symfony\Component\Security\Core\User\User:
                algorithm: bcrypt
                cost: 12

>小提醒:
如果你使用php5.4或更低,为了能够使用bcrypt编码你将需要通过composer安装ircmaxell/password-compat类库

    {
        "require": {
            ...
            "ircmaxell/password-compat": "~1.0.3"
        }
    }

当然,您的用户密码现在需要用这种精确算法进行编码.为了硬编码,你能使用[在线工具](https://www.dailycred.com/blog/12/bcrypt-calculator)
你将喜欢这样做

    # app/config/security.yml
    security:
        # ...
        providers:
            in_memory:
                memory:
                    users:
                        ryan:
                            password: $2a$12$LCY0MefVIEc3TYPHV9SNnuzOfyr2p/AXIGoQJEDs4am4JwhNz/jli
                            roles: 'ROLE_USER'
                        admin:
                            password: $2a$12$cyTWeE9kpq1PjqKFiWUZFuCRPwVyAZwm4XzMZ1qPUFl7/flCM3V0G
                            roles: 'ROLE_ADMIN'

现在所有的工作看起来和前面一样,但是如果你有一个动态的用户(如.从一个数据库中),在他们插入数据库以前你能够以编程的方式编码密码
不要担心,详细的查看[动态编码一个密码]().

小提醒:
>支持的算法依赖于你的PHP版本,包括PHP方法hash_algos()返回的算法以及一些其他(如:bcrypt).在安全参考章节查看encoders关键字
他也可能通过用户的基本信息使用不同的算反,更详细的查看如何动态的选择密码编码算法.

###D)配置完成!

祝贺你!你现在有一个使用http基本认证和从security.yml文件中加载用户的认证系统

你下面的步骤取决于你的设置:

* 为用户配置不同的登陆方式,像登陆表单或一些完全自定义的;
* 从不同的地方加载用户,像数据库或一些其他的源;
* 在授权部分学习如何拒绝访问,加载用户对象和处理角色

##2）拒绝访问,角色和其它授权

使用http_basic或其他的方法用户能够登陆到你的应用,非常棒!现在,你需要学习如何拒绝访问和用户对象的工作.这称为
授权,它的工作是决定一个用户是否可以访问一些资源(一个URL,一个模型对象,一个方法的调用,...).

授权过程有两个不同的方面:
1. 当登陆成功后用户接收一个具体的角色(如. ROLE_ADMIN)。
2. 你添加代码,这样一个资源(如URL,控制器)需要一个特定的“属性”(最常见的角色像ROLE_ADMIN)来访问

>小提醒:
>除了角色(eg ROLE_ADMIN),你能够使用一个保护的资源使用其它属性/字符串(如.EDIT)和使用voters或Symfony的ACL系统赋予意义,
如果你需要检查用户是否可以"编辑"某个对象（例如一个产品的标识5），这可能会很方便的使用.[查看访问控制列表:保护单个数据库对象](http://symfony.com/doc/current/book/security.html#security-secure-objects)。

###角色

当一个用户登陆时,接收一个设置的角色(ROLE_ADMIN),在上一个例子,这些事硬编码在security.yml中,如果你从数据库中加载用户,这些可能存储在表中的一个字段.


